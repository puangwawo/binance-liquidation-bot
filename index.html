
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>XRP Signals + Auto Recommendation</title>
<style>
body { font-family: Arial, sans-serif; background: #f8fafc; margin: 0; padding: 20px; }
h1 { text-align: center; color: #0f172a; }
.card { background: #fff; border-radius: 12px; padding: 16px; margin-bottom: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
.bar { height: 16px; background: #e5e7eb; border-radius: 8px; overflow: hidden; margin-top: 8px; }
.bar-fill { height: 100%; }
.green { background: #16a34a; }
.red { background: #dc2626; }
.yellow { background: #ca8a04; }
.reason { font-size: 0.9rem; color: #334155; margin-top: 4px; }
</style>
</head>
<body>
<h1>ðŸ”Ž XRP Signals + Auto Recommendation</h1>

<div class="card" id="recommendation-card">
    <h2>Auto Recommendation</h2>
    <div id="direction" style="font-size:1.4rem;font-weight:bold;">--</div>
    <div id="strength-label">Strength: --%</div>
    <div class="bar"><div id="strength-bar" class="bar-fill"></div></div>
    <div id="reasons"></div>
</div>

<script>
function calculateRecommendation() {
    // Mock data (should be replaced with live API fetch)
    let obi_bids = 62;  // example OBI percentage bids
    let vwap_dist = -0.45; // % below VWAP
    let vol_spike = 2.1; // times average
    let funding_rate = 0.01; // %
    
    let score = 0;
    let reasons = [];
    
    // OBI scoring
    if (obi_bids > 60) { score += 30; reasons.push(`OBI ${obi_bids}% bids (buy pressure)`); }
    else if (obi_bids < 40) { score += 30; reasons.push(`OBI ${obi_bids}% bids (sell pressure)`); }
    else { score += 15; reasons.push(`OBI ${obi_bids}% neutral`); }
    
    // VWAP scoring
    if (vwap_dist <= -0.3) { score += 35; reasons.push(`VWAP distance ${vwap_dist}% (oversold)`); }
    else if (vwap_dist >= 0.3) { score += 35; reasons.push(`VWAP distance ${vwap_dist}% (overbought)`); }
    else { score += 15; reasons.push(`VWAP distance ${vwap_dist}% neutral`); }
    
    // Volume spike scoring
    if (vol_spike >= 1.5) { score += 25; reasons.push(`Volume spike ${vol_spike}x avg`); }
    else { score += 10; reasons.push(`Volume normal`); }
    
    // Funding/OI scoring
    if (funding_rate > 0.005) { score += 10; reasons.push(`Funding ${funding_rate}% favors SELL`); }
    else if (funding_rate < -0.005) { score += 10; reasons.push(`Funding ${funding_rate}% favors BUY`); }
    else { score += 5; reasons.push(`Funding ${funding_rate}% neutral`); }
    
    // Decide direction
    let direction = "HOLD";
    if (obi_bids > 60 && vwap_dist <= -0.3) direction = "BUY";
    else if (obi_bids < 40 && vwap_dist >= 0.3) direction = "SELL";
    
    // Strength %
    let strength = Math.min(score, 100);
    
    // Update UI
    document.getElementById("direction").innerText = direction;
    document.getElementById("strength-label").innerText = `Strength: ${strength}%`;
    let bar = document.getElementById("strength-bar");
    bar.style.width = strength + "%";
    bar.className = "bar-fill " + (direction === "BUY" ? "green" : direction === "SELL" ? "red" : "yellow");
    
    let reasonsDiv = document.getElementById("reasons");
    reasonsDiv.innerHTML = "";
    reasons.forEach(r => {
        let p = document.createElement("div");
        p.className = "reason";
        p.innerText = "â€¢ " + r;
        reasonsDiv.appendChild(p);
    });
}

calculateRecommendation();
</script>
</body>
</html>
